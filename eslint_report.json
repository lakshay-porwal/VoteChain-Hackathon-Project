[{"filePath":"C:\\Users\\laksh\\VoteChain\\VoteChain-Hackathon-Project\\src\\App.jsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":146,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":146,"endColumn":21}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, createContext, useContext, useCallback } from 'react';\r\nimport { ethers } from 'ethers';\r\nimport { Vote, Wallet, LogOut, CheckCircle, AlertCircle, Bell, X, User, Shield, Home } from 'lucide-react';\r\nimport { CONTRACT_ABI } from './utils/ABI';\r\nimport AdminDashboard from './components/AdminDashboard';\r\nimport VoterDashboard from './components/VoterDashboard';\r\nimport Notification from './components/Notification';\r\nimport NotificationPanel from './components/NotificationPanel';\r\n\r\n// Deployed Contract Address\r\nconst CONTRACT_ADDRESS = \"0x219b1E30823236b188f38E933A3fad90E79C0883\";\r\n\r\n// --- Contexts ---\r\nconst RouterContext = createContext();\r\nconst Web3Context = createContext();\r\n\r\n// --- Components ---\r\n\r\n// Simple Router\r\nconst useRouter = () => useContext(RouterContext);\r\nconst RouterProvider = ({ children }) => {\r\n  const [currentPage, setCurrentPage] = useState('home');\r\n  return (\r\n    <RouterContext.Provider value={{ currentPage, navigate: setCurrentPage }}>\r\n      {children}\r\n    </RouterContext.Provider>\r\n  );\r\n};\r\n\r\n// Web3 Provider\r\nconst Web3Provider = ({ children }) => {\r\n  const [account, setAccount] = useState('');\r\n  const [contract, setContract] = useState(null);\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n  const [isConnected, setIsConnected] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [toasts, setToasts] = useState([]);\r\n  const [history, setHistory] = useState(() => {\r\n    const saved = localStorage.getItem('notification_history');\r\n    return saved ? JSON.parse(saved) : [];\r\n  });\r\n  const [isPanelOpen, setIsPanelOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('notification_history', JSON.stringify(history));\r\n  }, [history]);\r\n\r\n  const addNotification = useCallback((message, type = 'info') => {\r\n    const id = Date.now();\r\n    const newNotif = { id, message, type, timestamp: id, read: false };\r\n\r\n    // Add to toasts (transient)\r\n    setToasts(prev => [...prev, newNotif]);\r\n    setTimeout(() => setToasts(prev => prev.filter(n => n.id !== id)), 5000);\r\n\r\n    // Add to history (persistent)\r\n    setHistory(prev => [newNotif, ...prev]);\r\n  }, []);\r\n\r\n  const markAsRead = (id) => {\r\n    setHistory(prev => prev.map(n => n.id === id ? { ...n, read: true } : n));\r\n  };\r\n\r\n  const markAllAsRead = () => {\r\n    setHistory(prev => prev.map(n => ({ ...n, read: true })));\r\n  };\r\n\r\n  const removeNotification = (id) => {\r\n    setHistory(prev => prev.filter(n => n.id !== id));\r\n  };\r\n\r\n  const clearHistory = () => {\r\n    if (confirm(\"Clear all notifications?\")) {\r\n      setHistory([]);\r\n    }\r\n  };\r\n\r\n  const togglePanel = () => setIsPanelOpen(!isPanelOpen);\r\n\r\n  const getContract = async (signerOrProvider) => {\r\n    if (!CONTRACT_ADDRESS) return null;\r\n    return new ethers.Contract(CONTRACT_ADDRESS, CONTRACT_ABI, signerOrProvider);\r\n  };\r\n\r\n  const connectWallet = async () => {\r\n    if (!window.ethereum) {\r\n      addNotification(\"MetaMask not found!\", \"error\");\r\n      return;\r\n    }\r\n    try {\r\n      setLoading(true);\r\n      const provider = new ethers.BrowserProvider(window.ethereum);\r\n      const signer = await provider.getSigner();\r\n      const acc = await signer.getAddress();\r\n\r\n      setAccount(acc);\r\n      setIsConnected(true);\r\n      addNotification(\"Wallet Verified\", \"success\");\r\n\r\n      // Check Admin Status\r\n      const contractInstance = await getContract(signer);\r\n\r\n      if (contractInstance) {\r\n        setContract(contractInstance);\r\n        try {\r\n          const adminAddress = await contractInstance.admin();\r\n          if (adminAddress.toLowerCase() === acc.toLowerCase()) {\r\n            setIsAdmin(true);\r\n            addNotification(\"Welcome Admin\", \"success\");\r\n          }\r\n        } catch (e) {\r\n          console.error(\"Failed to fetch admin\", e);\r\n          addNotification(\"Connected, but could not verify Admin status. Check Contract Address.\", \"warning\");\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      addNotification(\"Connection Failed\", \"error\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const disconnectWallet = () => {\r\n    setAccount('');\r\n    setIsConnected(false);\r\n    setIsAdmin(false);\r\n    setContract(null);\r\n    addNotification(\"Wallet Disconnected\", \"info\");\r\n  };\r\n\r\n  return (\r\n    <Web3Context.Provider value={{\r\n      account, isAdmin, isConnected, contract,\r\n      connectWallet, disconnectWallet,\r\n      notifications: toasts, // For Notification Toast Component\r\n      history, isPanelOpen, togglePanel, // For Notification Panel\r\n      addNotification, markAsRead, markAllAsRead, removeNotification, clearHistory,\r\n      loading, ethers\r\n    }}>\r\n      {children}\r\n    </Web3Context.Provider>\r\n  );\r\n};\r\n\r\nexport const useWeb3 = () => useContext(Web3Context);\r\n\r\n\r\n// --- Main Layout Components ---\r\n\r\nconst Navbar = () => {\r\n  const { account, isConnected, isAdmin, connectWallet, disconnectWallet, history, togglePanel } = useWeb3();\r\n  const { navigate } = useRouter();\r\n\r\n  return (\r\n    <nav className=\"fixed top-0 w-full z-50 bg-[#0f172a]/80 backdrop-blur-md border-b border-gray-800\">\r\n      <div className=\"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between\">\r\n        <div className=\"flex items-center space-x-2 cursor-pointer\" onClick={() => navigate('home')}>\r\n          <div className=\"bg-gradient-to-tr from-blue-600 to-purple-600 p-2 rounded-lg\">\r\n            <Vote className=\"w-6 h-6 text-white\" />\r\n          </div>\r\n          <span className=\"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-400\">\r\n            VoteChain\r\n          </span>\r\n        </div>\r\n\r\n        <div className=\"flex items-center space-x-4\">\r\n          {isConnected ? (\r\n            <>\r\n              {isAdmin ? (\r\n                <button\r\n                  onClick={() => navigate('admin')}\r\n                  className=\"px-4 py-2 text-sm font-medium text-purple-400 hover:text-purple-300 transition-colors\"\r\n                >\r\n                  Admin Dashboard\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  onClick={() => navigate('voter')}\r\n                  className=\"px-4 py-2 text-sm font-medium text-blue-400 hover:text-blue-300 transition-colors\"\r\n                >\r\n                  Voter Dashboard\r\n                </button>\r\n              )}\r\n\r\n              {/* Notification Bell */}\r\n              <button\r\n                onClick={togglePanel}\r\n                className=\"relative p-2 text-gray-400 hover:text-white transition-colors\"\r\n              >\r\n                <Bell className=\"w-5 h-5\" />\r\n                {history.filter(n => !n.read).length > 0 && (\r\n                  <span className=\"absolute top-1 right-1 w-2.5 h-2.5 bg-red-500 rounded-full border border-[#0f172a]\"></span>\r\n                )}\r\n              </button>\r\n\r\n              <div className=\"flex items-center space-x-2 bg-gray-800/50 px-3 py-1.5 rounded-full border border-gray-700\">\r\n                <div className=\"w-2 h-2 rounded-full bg-green-500 animate-pulse\" />\r\n                <span className=\"text-sm text-gray-300 font-mono\">\r\n                  {account.substring(0, 6)}...{account.slice(-4)}\r\n                </span>\r\n                <button onClick={disconnectWallet} className=\"ml-2 text-gray-500 hover:text-red-400\">\r\n                  <LogOut className=\"w-4 h-4\" />\r\n                </button>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <button\r\n              onClick={connectWallet}\r\n              className=\"flex items-center space-x-2 px-6 py-2 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg text-white font-medium hover:opacity-90 transition-opacity\"\r\n            >\r\n              <Wallet className=\"w-4 h-4\" />\r\n              <span>Connect Wallet</span>\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nconst HomePage = () => {\r\n  const { isConnected, isAdmin } = useWeb3();\r\n  const { navigate } = useRouter();\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#0f172a] text-white flex flex-col items-center justify-center pt-20 px-4\">\r\n      <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\r\n        <div className=\"absolute -top-[50%] -left-[50%] w-[200%] h-[200%] bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-blue-900/20 via-[#0f172a] to-[#0f172a]\" />\r\n      </div>\r\n\r\n      <div className=\"relative z-10 text-center max-w-4xl space-y-8 animate-in slide-in-from-bottom duration-700 fade-in\">\r\n        <div className=\"inline-flex items-center space-x-2 px-4 py-2 rounded-full bg-blue-500/10 border border-blue-500/20 text-blue-400 mb-4\">\r\n          <Shield className=\"w-4 h-4\" />\r\n          <span className=\"text-sm font-medium\">Secure Blockchain Voting System</span>\r\n        </div>\r\n\r\n        <h1 className=\"text-6xl md:text-7xl font-bold tracking-tight\">\r\n          Destiny of the Future <br />\r\n          <span className=\"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500\">\r\n            Decided by You\r\n          </span>\r\n        </h1>\r\n\r\n        <p className=\"text-xl text-gray-400 max-w-2xl mx-auto leading-relaxed\">\r\n          Experience the next generation of electoral integrity. Decentralized, transparent, and immutable voting powered by Ethereum smart contracts.\r\n        </p>\r\n\r\n        <div className=\"flex flex-col sm:flex-row items-center justify-center gap-4 pt-8\">\r\n          {isConnected ? (\r\n            <button\r\n              onClick={() => navigate(isAdmin ? 'admin' : 'voter')}\r\n              className=\"px-8 py-4 bg-white text-black rounded-xl font-bold hover:bg-gray-100 transition-colors flex items-center space-x-2\"\r\n            >\r\n              <span>Go to Dashboard</span>\r\n            </button>\r\n          ) : (\r\n            <div className=\"text-gray-500 mb-8 italic\">\r\n              Connect your wallet to get started\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Features Grid */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 mt-24 max-w-6xl w-full px-4 text-left\">\r\n        {[\r\n          { title: \"Immutable Records\", desc: \"Every vote is recorded permanently on the blockchain, ensuring 100% data integrity.\", icon: Shield },\r\n          { title: \"Time-Bound Voting\", desc: \"Smart contracts enforce strict start and end times for fair election cycles.\", icon: Vote },\r\n          { title: \"Transparency\", desc: \"Results are verifiable by anyone, but only released after the election ends.\", icon: CheckCircle },\r\n        ].map((feature, i) => (\r\n          <div key={i} className=\"p-6 rounded-2xl bg-white/5 border border-white/10 hover:border-blue-500/30 transition-colors\">\r\n            <feature.icon className=\"w-10 h-10 text-blue-500 mb-4\" />\r\n            <h3 className=\"text-xl font-semibold mb-2\">{feature.title}</h3>\r\n            <p className=\"text-gray-400\">{feature.desc}</p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n// --- App Entry Point ---\r\n\r\nfunction App() {\r\n  return (\r\n    <RouterProvider>\r\n      <Web3Provider>\r\n        <div className=\"min-h-screen bg-[#0f172a] text-white selection:bg-blue-500/30\">\r\n          <Navbar />\r\n          <Notification />\r\n          <NotificationPanel />\r\n\r\n          <MainContent />\r\n        </div>\r\n      </Web3Provider>\r\n    </RouterProvider>\r\n  );\r\n}\r\n\r\n// Separate component to consume router context\r\nconst MainContent = () => {\r\n  const { currentPage } = useRouter();\r\n\r\n  return (\r\n    <div className=\"pt-16\">\r\n      {currentPage === 'home' && <HomePage />}\r\n      {currentPage === 'admin' && <AdminDashboard />}\r\n      {currentPage === 'voter' && <VoterDashboard />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\laksh\\VoteChain\\VoteChain-Hackathon-Project\\src\\components\\AdminDashboard.jsx","messages":[{"ruleId":null,"nodeType":null,"fatal":true,"severity":2,"message":"Parsing error: Unexpected token `>`. Did you mean `&gt;` or `{\">\"}`?","line":280,"column":34}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { Plus, Calendar, Clock, BarChart3, Trash2, Check, ExternalLink, RefreshCw, Send, Lock, Unlock } from 'lucide-react';\r\nimport { useWeb3 } from '../App';\r\n\r\nconst AdminDashboard = () => {\r\n    const { contract, account, addNotification, loading: web3Loading, ethers } = useWeb3();\r\n    const [elections, setElections] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [activeTab, setActiveTab] = useState('active'); // active, upcoming, past, trash\r\n\r\n    // Form State\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        description: '',\r\n        duration: 5, // minutes\r\n        candidates: '', // comma separated\r\n        isPrivate: false,\r\n        allowedVoters: '' // comma separated addresses\r\n    });\r\n\r\n    const [announcementMsg, setAnnouncementMsg] = useState('');\r\n\r\n    const fetchElections = async (isLoaderNeeded = true) => {\r\n        if (!contract) return;\r\n        try {\r\n            if (isLoaderNeeded) setLoading(true);\r\n            const count = await contract.getElectionCount();\r\n            const fetchedElections = [];\r\n            const countNum = Number(count);\r\n\r\n            // Loop latest 10 elections or all\r\n            for (let i = countNum; i >= 1 && i > countNum - 10; i--) {\r\n                const details = await contract.getElectionDetails(i);\r\n                fetchedElections.push({\r\n                    id: Number(details.id),\r\n                    name: details.name,\r\n                    description: details.description,\r\n                    startTime: Number(details.startTime) * 1000,\r\n                    endTime: Number(details.endTime) * 1000,\r\n                    isResultsPublished: details.isResultsPublished,\r\n                    isPrivate: details.isPrivate,\r\n                    isDeleted: details.isDeleted,\r\n                    totalVotes: Number(details.totalVotes),\r\n                    candidateCount: Number(details.candidateCount)\r\n                });\r\n            }\r\n            setElections(fetchedElections);\r\n        } catch (error) {\r\n            console.error(error);\r\n            if (isLoaderNeeded) addNotification(\"Failed to load elections\", \"error\");\r\n        } finally {\r\n            if (isLoaderNeeded) setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchElections();\r\n        const interval = setInterval(() => fetchElections(false), 10000);\r\n        return () => clearInterval(interval);\r\n    }, [contract]);\r\n\r\n    const handleCreateElection = async (e) => {\r\n        e.preventDefault();\r\n        if (!formData.name || !formData.candidates) {\r\n            addNotification(\"Please fill required fields\", \"warning\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            addNotification(\"Creating Election... Confirm transaction.\", \"info\");\r\n\r\n            const startTime = Math.floor(Date.now() / 1000); // Now\r\n            const endTime = startTime + (formData.duration * 60); // + duration minutes\r\n            const candidateList = formData.candidates.split(',').map(c => c.trim()).filter(c => c !== '');\r\n            const voterList = formData.allowedVoters.split(',').map(v => v.trim()).filter(v => v !== '');\r\n\r\n            if (candidateList.length < 2) {\r\n                addNotification(\"Minimum 2 candidates required\", \"warning\");\r\n                return;\r\n            }\r\n\r\n            if (formData.isPrivate && voterList.length === 0) {\r\n                if (!confirm(\"You are creating a Private election with NO voters. Are you sure?\")) return;\r\n            }\r\n\r\n            const tx = await contract.createElection(\r\n                formData.name,\r\n                formData.description,\r\n                startTime,\r\n                endTime,\r\n                candidateList,\r\n                formData.isPrivate,\r\n                voterList\r\n            );\r\n\r\n            addNotification(\"Transaction Sent. Waiting for confirmation...\", \"info\");\r\n            await tx.wait();\r\n            addNotification(\"Election Created Successfully!\", \"success\");\r\n\r\n            // Reset form\r\n            setFormData({ name: '', description: '', duration: 5, candidates: '', isPrivate: false, allowedVoters: '' });\r\n            fetchElections(false);\r\n\r\n        } catch (error) {\r\n            console.error(error);\r\n            addNotification(\"Failed to create election\", \"error\");\r\n        }\r\n    };\r\n\r\n    const handlePublishResults = async (id) => {\r\n        try {\r\n            const tx = await contract.publishResults(id);\r\n            addNotification(\"Publishing results...\", \"info\");\r\n            await tx.wait();\r\n            addNotification(\"Results Published!\", \"success\");\r\n            fetchElections(false);\r\n        } catch (error) {\r\n            console.error(error);\r\n            addNotification(\"Failed to publish results\", \"error\");\r\n        }\r\n    };\r\n\r\n    const handleRestartElection = async (id) => {\r\n        const duration = prompt(\"Enter duration to extend (in minutes):\", \"5\");\r\n        if (!duration) return;\r\n\r\n        try {\r\n            const newEndTime = Math.floor(Date.now() / 1000) + (parseInt(duration) * 60);\r\n            const tx = await contract.restartElection(id, newEndTime);\r\n            addNotification(\"Restarting election...\", \"info\");\r\n            await tx.wait();\r\n            addNotification(\"Election Restarted!\", \"success\");\r\n            fetchElections(false);\r\n        } catch (error) {\r\n            console.error(error);\r\n            addNotification(\"Failed to restart election\", \"error\");\r\n        }\r\n    };\r\n\r\n    const handleDeleteElection = async (id) => {\r\n        if (!confirm(\"Are you sure you want to delete this election? It will be moved to trash and hidden from voters.\")) return;\r\n        try {\r\n            const tx = await contract.deleteElection(id);\r\n            addNotification(\"Deleting election...\", \"info\");\r\n            await tx.wait();\r\n            addNotification(\"Election Moved to Trash!\", \"success\");\r\n            fetchElections(false);\r\n        } catch (error) {\r\n            console.error(error);\r\n            addNotification(\"Failed to delete election\", \"error\");\r\n        }\r\n    };\r\n\r\n    const filteredElections = elections.filter(e => {\r\n        const now = Date.now();\r\n        if (activeTab === 'trash') return e.isDeleted;\r\n        if (e.isDeleted) return false; // Don't show deleted in other tabs\r\n\r\n        if (activeTab === 'active') return now >= e.startTime && now <= e.endTime;\r\n        if (activeTab === 'upcoming') return now < e.startTime;\r\n        if (activeTab === 'past') return now > e.endTime;\r\n        return true;\r\n    });\r\n\r\n    const handleMakeAnnouncement = async (e) => {\r\n        e.preventDefault();\r\n        if (!announcementMsg.trim()) return;\r\n\r\n        try {\r\n            const tx = await contract.addAnnouncement(announcementMsg);\r\n            addNotification(\"Sending announcement...\", \"info\");\r\n            await tx.wait();\r\n            addNotification(\"Announcement Sent!\", \"success\");\r\n            setAnnouncementMsg('');\r\n        } catch (error) {\r\n            console.error(error);\r\n            addNotification(\"Failed to send announcement\", \"error\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"max-w-7xl mx-auto px-4 py-8 space-y-8\">\r\n            <header className=\"flex items-center justify-between\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold text-white\">Admin Dashboard</h1>\r\n                    <p className=\"text-gray-400\">Manage elections and control voting timelines</p>\r\n                </div>\r\n                <div className=\"text-sm text-gray-400 bg-gray-800 px-3 py-1 rounded-full border border-gray-700\">\r\n                    Administrator Mode\r\n                </div>\r\n            </header>\r\n\r\n            {/* Announcement Section */}\r\n            <div className=\"bg-blue-900/20 border border-blue-800/50 p-6 rounded-2xl backdrop-blur-sm\">\r\n                <h2 className=\"text-lg font-semibold text-white mb-4 flex items-center gap-2\">\r\n                    <Send className=\"w-5 h-5 text-blue-400\" />\r\n                    Make Announcement\r\n                </h2>\r\n                <div className=\"flex gap-4\">\r\n                    <input\r\n                        type=\"text\"\r\n                        className=\"flex-1 bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white outline-none focus:ring-2 focus:ring-blue-500\"\r\n                        placeholder=\"Type a message to all voters...\"\r\n                        value={announcementMsg}\r\n                        onChange={(e) => setAnnouncementMsg(e.target.value)}\r\n                    />\r\n                    <button\r\n                        onClick={handleMakeAnnouncement}\r\n                        className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium transition-colors\"\r\n                    >\r\n                        Send\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n                {/* Create Election Form */}\r\n                <div className=\"lg:col-span-1 bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl border border-gray-700 h-fit\">\r\n                    <h2 className=\"text-xl font-semibold text-white mb-6 flex items-center gap-2\">\r\n                        <Plus className=\"w-5 h-5 text-blue-400\" />\r\n                        New Election\r\n                    </h2>\r\n                    <form onSubmit={handleCreateElection} className=\"space-y-4\">\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-400 mb-1\">Election Title</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none\"\r\n                                placeholder=\"e.g. Class Monitor 2026\"\r\n                                value={formData.name}\r\n                                onChange={e => setFormData({ ...formData, name: e.target.value })}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-400 mb-1\">Description</label>\r\n                            <textarea\r\n                                className=\"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none h-24 resize-none\"\r\n                                placeholder=\"Brief description of the election...\"\r\n                                value={formData.description}\r\n                                onChange={e => setFormData({ ...formData, description: e.target.value })}\r\n                            />\r\n                        </div>\r\n                        <div className=\"grid grid-cols-2 gap-4\">\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-400 mb-1\">Duration (min)</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    className=\"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none\"\r\n                                    min=\"1\"\r\n                                    value={formData.duration}\r\n                                    onChange={e => setFormData({ ...formData, duration: e.target.value })}\r\n                                />\r\n                            </div>\r\n                            <div className=\"flex items-center pt-6\">\r\n                                <label className=\"flex items-center cursor-pointer gap-2\">\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        className=\"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\r\n                                        checked={formData.isPrivate}\r\n                                        onChange={e => setFormData({ ...formData, isPrivate: e.target.checked })}\r\n                                    />\r\n                                    <span className=\"text-sm font-medium text-gray-300 flex items-center gap-1\">\r\n                                        {formData.isPrivate ? <Lock className=\"w-3 h-3 text-red-400\" /> : <Unlock className=\"w-3 h-3 text-green-400\" />}\r\n                                        Private\r\n                                    </span>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {formData.isPrivate && (\r\n                            <div className=\"animate-in slide-in-from-top duration-300\">\r\n                                <label className=\"block text-sm font-medium text-red-400 mb-1\">Allowed Voters (Address List)</label>\r\n                                <textarea\r\n                                    className=\"w-full bg-gray-900 border border-red-900/50 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-red-500 outline-none h-20 resize-none text-xs font-mono\"\r\n                                    placeholder=\"0x123..., 0x456...\"\r\n                                    value={formData.allowedVoters}\r\n                                    onChange={e => setFormData({ ...formData, allowedVoters: e.target.value })}\r\n                                />\r\n                                onChange={e => setFormData({ ...formData, allowedVoters: e.target.value })}\r\n                                />\r\n                                <p className=\"text-xs text-gray-500 mt-1\">Separate addresses with commas. You can add more later.</p>\r\n                            </div>\r\n                        )}\r\n\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-400 mb-1\">Candidates</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none\"\r\n                                placeholder=\"Alice, Bob, Charlie\"\r\n                                value={formData.candidates}\r\n                                onChange={e => setFormData({ ...formData, candidates: e.target.value })}\r\n                            />\r\n                        </div>\r\n                        <button\r\n                            type=\"submit\"\r\n                            className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 rounded-lg transition-colors flex items-center justify-center gap-2\"\r\n                        >\r\n                            <Plus className=\"w-4 h-4\" />\r\n                            Create Election\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n\r\n                {/* Election List */}\r\n                <div className=\"lg:col-span-2 space-y-4\">\r\n                    <div className=\"flex items-center justify-between mb-4\">\r\n                        <h2 className=\"text-xl font-semibold text-white flex items-center gap-2\">\r\n                            <BarChart3 className=\"w-5 h-5 text-purple-400\" />\r\n                            Manage Elections\r\n                        </h2>\r\n                    </div>\r\n\r\n                    {/* Tabs */}\r\n                    <div className=\"flex space-x-2 bg-gray-800/50 p-1 rounded-lg w-fit mb-4\">\r\n                        {['active', 'upcoming', 'past', 'trash'].map(tab => (\r\n                            <button\r\n                                key={tab}\r\n                                onClick={() => setActiveTab(tab)}\r\n                                className={`px-4 py-2 rounded-md text-sm font-medium transition-all ${activeTab === tab\r\n                                    ? 'bg-blue-600 text-white shadow'\r\n                                    : 'text-gray-400 hover:text-white hover:bg-gray-700'\r\n                                    }`}\r\n                            >\r\n                                {tab.charAt(0).toUpperCase() + tab.slice(1)}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n\r\n                    {loading && elections.length === 0 ? (\r\n                        <div className=\"text-center py-12 text-gray-500\">Loading elections...</div>\r\n                    ) : filteredElections.length === 0 ? (\r\n                        <div className=\"text-center py-12 text-gray-500 bg-gray-800/20 rounded-xl border border-dashed border-gray-700\">\r\n                            No {activeTab} elections found.\r\n                        </div>\r\n                    ) : (\r\n                        filteredElections.map((election) => {\r\n                            const now = Date.now();\r\n                            const isLive = now >= election.startTime && now <= election.endTime;\r\n                            const isEnded = now > election.endTime;\r\n                            const isUpcoming = now < election.startTime;\r\n\r\n                            return (\r\n                                <div key={election.id} className=\"bg-gray-800/30 border border-gray-700 p-6 rounded-xl hover:border-gray-600 transition-colors\">\r\n                                    <div className=\"flex justify-between items-start mb-4\">\r\n                                        <div>\r\n                                            <div className=\"flex items-center gap-2\">\r\n                                                <h3 className=\"text-lg font-bold text-white max-w-[200px] truncate\" title={election.name}>{election.name}</h3>\r\n                                                {election.isPrivate && <Lock className=\"w-4 h-4 text-red-400\" title=\"Private Election\" />}\r\n                                                {election.isDeleted && <Trash2 className=\"w-4 h-4 text-gray-500\" title=\"Deleted\" />}\r\n                                            </div>\r\n                                            <p className=\"text-sm text-gray-400 line-clamp-1\">{election.description}</p>\r\n                                        </div>\r\n                                        <div className={`px-3 py-1 rounded-full text-xs font-semibold\r\n                                            ${election.isDeleted ? 'bg-gray-700 text-gray-400 border border-gray-600' :\r\n                                                isLive ? 'bg-green-500/20 text-green-400 border border-green-500/30' :\r\n                                                    isEnded ? 'bg-red-500/20 text-red-400 border border-red-500/30' :\r\n                                                        'bg-blue-500/20 text-blue-400 border border-blue-500/30'}\r\n                                        `}>\r\n                                            {election.isDeleted ? 'DELETED' : isLive ? 'LIVE' : isEnded ? 'CLOSED' : 'UPCOMING'}\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"grid grid-cols-2 gap-4 mb-6 text-sm\">\r\n                                        <div className=\"flex items-center gap-2 text-gray-400\">\r\n                                            <Calendar className=\"w-4 h-4\" />\r\n                                            <span>Start: {new Date(election.startTime).toLocaleString()}</span>\r\n                                        </div>\r\n                                        <div className=\"flex items-center gap-2 text-gray-400\">\r\n                                            <Clock className=\"w-4 h-4\" />\r\n                                            <span>End: {new Date(election.endTime).toLocaleString()}</span>\r\n                                        </div>\r\n                                        <div className=\"flex items-center gap-2 text-gray-400\">\r\n                                            <BarChart3 className=\"w-4 h-4\" />\r\n                                            <span>Votes: {election.totalVotes}</span>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {!election.isDeleted && (\r\n                                        <div className=\"flex items-center gap-2 border-t border-gray-700 pt-4 flex-wrap\">\r\n                                            {isEnded ? (\r\n                                                <>\r\n                                                    {!election.isResultsPublished ? (\r\n                                                        <button\r\n                                                            onClick={() => handlePublishResults(election.id)}\r\n                                                            className=\"flex-1 bg-purple-600 hover:bg-purple-700 text-white text-xs font-medium py-2 px-3 rounded-lg transition-all\"\r\n                                                        >\r\n                                                            Publish Results\r\n                                                        </button>\r\n                                                    ) : (\r\n                                                        <button disabled className=\"flex-1 bg-gray-700 text-gray-400 text-xs font-medium py-2 px-3 rounded-lg cursor-not-allowed\">\r\n                                                            Published\r\n                                                        </button>\r\n                                                    )}\r\n\r\n                                                    <button\r\n                                                        onClick={() => handleRestartElection(election.id)}\r\n                                                        className=\"px-3 py-2 bg-gray-700 hover:bg-gray-600 text-white text-xs font-medium rounded-lg transition-all flex items-center gap-1\"\r\n                                                        title=\"Restart/Extend\"\r\n                                                    >\r\n                                                        <RefreshCw className=\"w-3 h-3\" />\r\n                                                        Extend\r\n                                                    </button>\r\n                                                </>\r\n                                            ) : (\r\n                                                <button disabled className=\"flex-1 bg-gray-700 text-gray-400 text-xs font-medium py-2 px-3 rounded-lg cursor-not-allowed\">\r\n                                                    Voting in Progress\r\n                                                </button>\r\n                                            )}\r\n\r\n                                            <button\r\n                                                onClick={() => handleDeleteElection(election.id)}\r\n                                                className=\"px-3 py-2 bg-red-900/30 hover:bg-red-900/50 text-red-400 border border-red-900/50 text-xs font-medium rounded-lg transition-all\"\r\n                                                title=\"Delete Election\"\r\n                                            >\r\n                                                <Trash2 className=\"w-4 h-4\" />\r\n                                            </button>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            );\r\n                        })\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AdminDashboard;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\laksh\\VoteChain\\VoteChain-Hackathon-Project\\src\\components\\Notification.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'setNotifications' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":6,"column":28,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":44,"suggestions":[{"messageId":"removeVar","data":{"varName":"setNotifications"},"fix":{"range":[187,205],"text":""},"desc":"Remove unused variable 'setNotifications'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport { CheckCircle, AlertCircle, X, Info } from 'lucide-react';\r\nimport { useWeb3 } from '../App';\r\n\r\nconst Notification = () => {\r\n    const { notifications, setNotifications } = useWeb3();\r\n\r\n    // If setNotifications is not exposed in context, we might need to adjust App.jsx or just read.\r\n    // In App.jsx I exposed `notifications` and `addNotification`. I didn't expose `setNotifications` directly but `addNotification` handles removal.\r\n    // Wait, I need a way to dismiss manually?\r\n    // In App.jsx: `const addNotification = ... setTimeout ...`\r\n    // I didn't expose a remove function. I should probably just let them auto-dismiss for now to keep it simple, \r\n    // or realized I can't dismiss manually without exposing a remove function.\r\n    // For now, I'll just display them.\r\n\r\n    if (notifications.length === 0) return null;\r\n\r\n    return (\r\n        <div className=\"fixed bottom-4 right-4 z-50 flex flex-col gap-2\">\r\n            {notifications.map((n) => (\r\n                <div\r\n                    key={n.id}\r\n                    className={`\r\n            flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg backdrop-blur-md border animate-in slide-in-from-right fade-in duration-300\r\n            ${n.type === 'success' ? 'bg-green-500/10 border-green-500/20' : ''}\r\n            ${n.type === 'error' ? 'bg-red-500/10 border-red-500/20' : ''}\r\n            ${n.type === 'info' ? 'bg-blue-500/10 border-blue-500/20' : ''}\r\n            ${n.type === 'warning' ? 'bg-yellow-500/10 border-yellow-500/20' : ''}\r\n          `}\r\n                >\r\n                    {n.type === 'success' && <CheckCircle className=\"w-5 h-5 text-green-400\" />}\r\n                    {n.type === 'error' && <AlertCircle className=\"w-5 h-5 text-red-400\" />}\r\n                    {n.type === 'warning' && <AlertCircle className=\"w-5 h-5 text-yellow-400\" />}\r\n                    {n.type === 'info' && <Info className=\"w-5 h-5 text-blue-400\" />}\r\n\r\n                    <p className=\"text-sm font-medium text-gray-200\">{n.message}</p>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Notification;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\laksh\\VoteChain\\VoteChain-Hackathon-Project\\src\\components\\NotificationPanel.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\laksh\\VoteChain\\VoteChain-Hackathon-Project\\src\\components\\VoterDashboard.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'loading' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":9,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":19,"suggestions":[{"messageId":"removeVar","data":{"varName":"loading"},"fix":{"range":[413,420],"text":""},"desc":"Remove unused variable 'loading'."}]},{"ruleId":"no-dupe-keys","severity":2,"message":"Duplicate key 'isResultsPublished'.","line":46,"column":21,"nodeType":"ObjectExpression","messageId":"unexpected","endLine":46,"endColumn":39},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchElections'. Either include it or remove the dependency array.","line":98,"column":8,"nodeType":"ArrayExpression","endLine":98,"endColumn":27,"suggestions":[{"desc":"Update the dependencies array to be: [contract, account, fetchElections]","fix":{"range":[3956,3975],"text":"[contract, account, fetchElections]"}}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { Vote, Clock, Crown, CheckCircle, Lock, Bell } from 'lucide-react';\r\nimport { useWeb3 } from '../App';\r\n\r\nconst VoterDashboard = () => {\r\n    const { contract, account, addNotification } = useWeb3();\r\n    const [activeTab, setActiveTab] = useState('active'); // active, closed, upcoming\r\n    const [elections, setElections] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [selectedElection, setSelectedElection] = useState(null); // For voting modal\r\n    const [candidates, setCandidates] = useState([]);\r\n    const [announcements, setAnnouncements] = useState([]);\r\n\r\n    const fetchElections = async (isLoaderNeeded = true) => {\r\n        if (!contract) return;\r\n        try {\r\n            if (isLoaderNeeded) setLoading(true);\r\n            const count = await contract.getElectionCount();\r\n            const fetchedElections = [];\r\n            const countNum = Number(count);\r\n\r\n            for (let i = countNum; i >= 1; i--) {\r\n                const details = await contract.getElectionDetails(i);\r\n\r\n                // Eligibility check for private elections\r\n                let isEligible = true;\r\n                if (details.isPrivate && account) {\r\n                    // Check if function exists (robustness for old contracts)\r\n                    if (contract.checkUserEligible) {\r\n                        isEligible = await contract.checkUserEligible(i, account);\r\n                    }\r\n                }\r\n\r\n                let hasVoted = false;\r\n                if (account) {\r\n                    hasVoted = await contract.checkUserVoted(i, account);\r\n                }\r\n\r\n                fetchedElections.push({\r\n                    id: Number(details.id),\r\n                    name: details.name,\r\n                    description: details.description,\r\n                    startTime: Number(details.startTime) * 1000,\r\n                    endTime: Number(details.endTime) * 1000,\r\n                    isResultsPublished: details.isResultsPublished,\r\n                    isResultsPublished: details.isResultsPublished,\r\n                    isPrivate: details.isPrivate,\r\n                    isDeleted: details.isDeleted,\r\n                    totalVotes: Number(details.totalVotes),\r\n                    hasVoted,\r\n                    isEligible\r\n                });\r\n            }\r\n            setElections(fetchedElections);\r\n\r\n            // Fetch Announcements\r\n            if (contract.getAnnouncements) {\r\n                const announcementsData = await contract.getAnnouncements();\r\n                // announcementsData is array of structs\r\n                const formattedAnnouncements = announcementsData.map(a => ({\r\n                    id: Number(a.id),\r\n                    message: a.message,\r\n                    timestamp: Number(a.timestamp) * 1000\r\n                })).reverse(); // Newest first\r\n                setAnnouncements(formattedAnnouncements);\r\n            }\r\n\r\n        } catch (error) {\r\n            console.error(error);\r\n        } finally {\r\n            if (isLoaderNeeded) setLoading(false);\r\n        }\r\n    };\r\n\r\n    const fetchCandidates = async (electionId) => {\r\n        try {\r\n            const data = await contract.getCandidates(electionId);\r\n            const ids = data[0];\r\n            const names = data[1];\r\n            const votes = data[2];\r\n\r\n            const formatted = ids.map((id, index) => ({\r\n                id: Number(id),\r\n                name: names[index],\r\n                votes: Number(votes[index])\r\n            }));\r\n            setCandidates(formatted);\r\n        } catch (error) {\r\n            console.error(error);\r\n            addNotification(\"Failed to fetch candidates\", \"error\");\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchElections();\r\n        const interval = setInterval(() => fetchElections(false), 10000);\r\n        return () => clearInterval(interval);\r\n    }, [contract, account]);\r\n\r\n    const handleOpenVote = async (election) => {\r\n        if (election.isPrivate && !election.isEligible) {\r\n            addNotification(\"You are not authorized to vote in this private election.\", \"error\");\r\n            return;\r\n        }\r\n        setSelectedElection(election);\r\n        await fetchCandidates(election.id);\r\n    };\r\n\r\n    const handleVote = async (candidateId) => {\r\n        if (!confirm(\"Are you sure you want to vote?\")) return;\r\n\r\n        try {\r\n            addNotification(\"Casting Vote...\", \"info\");\r\n            const tx = await contract.vote(selectedElection.id, candidateId);\r\n            addNotification(\"Analyzing transaction...\", \"info\");\r\n            await tx.wait();\r\n            addNotification(\"Vote Cast Successfully!\", \"success\");\r\n\r\n            setSelectedElection(null);\r\n            fetchElections(false);\r\n        } catch (error) {\r\n            console.error(error);\r\n            addNotification(error.reason || \"Vote Failed\", \"error\");\r\n        }\r\n    };\r\n\r\n    const filteredElections = elections.filter(e => {\r\n        if (e.isDeleted) return false;\r\n\r\n        const now = Date.now();\r\n        if (activeTab === 'active') return now >= e.startTime && now <= e.endTime;\r\n        if (activeTab === 'upcoming') return now < e.startTime;\r\n        if (activeTab === 'closed') return now > e.endTime;\r\n        return true;\r\n    });\r\n\r\n    return (\r\n        <div className=\"max-w-6xl mx-auto px-4 py-8\">\r\n            <h1 className=\"text-3xl font-bold text-white mb-8\">Voter Dashboard</h1>\r\n\r\n            {/* AnnouncementsTicker */}\r\n            {announcements.length > 0 && (\r\n                <div className=\"mb-8 bg-blue-900/30 border border-blue-800/50 rounded-xl p-4 overflow-hidden relative\">\r\n                    <div className=\"flex items-center gap-3 text-blue-300 mb-2\">\r\n                        <Bell className=\"w-4 h-4\" />\r\n                        <span className=\"text-xs font-bold uppercase tracking-wider\">Latest Announcements</span>\r\n                    </div>\r\n                    <div className=\"space-y-2\">\r\n                        {announcements.slice(0, 3).map(a => (\r\n                            <div key={a.id} className=\"text-sm text-gray-200 flex justify-between\">\r\n                                <span>{a.message}</span>\r\n                                <span className=\"text-gray-500 text-xs\">{new Date(a.timestamp).toLocaleTimeString()}</span>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Tabs */}\r\n            <div className=\"flex items-center space-x-2 mb-8 bg-gray-800/50 w-fit p-1 rounded-lg border border-gray-700\">\r\n                {['active', 'upcoming', 'closed'].map(tab => (\r\n                    <button\r\n                        key={tab}\r\n                        onClick={() => setActiveTab(tab)}\r\n                        className={`px-6 py-2 rounded-md text-sm font-medium transition-all ${activeTab === tab\r\n                            ? 'bg-blue-600 text-white shadow-lg'\r\n                            : 'text-gray-400 hover:text-white hover:bg-gray-700'\r\n                            }`}\r\n                    >\r\n                        {tab.charAt(0).toUpperCase() + tab.slice(1)}\r\n                    </button>\r\n                ))}\r\n            </div>\r\n\r\n            {/* Grid */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                {filteredElections.length === 0 ? (\r\n                    <div className=\"col-span-full text-center py-12 text-gray-500 bg-gray-800/20 rounded-xl border border-dashed border-gray-700\">\r\n                        No elections found in this category.\r\n                    </div>\r\n                ) : (\r\n                    filteredElections.map(election => (\r\n                        <div key={election.id} className=\"bg-gray-800/40 border border-gray-700 rounded-xl p-6 hover:border-gray-600 transition-all group relative overflow-hidden\">\r\n                            {election.isPrivate && (\r\n                                <div className=\"absolute top-0 right-0 p-2\">\r\n                                    {election.isEligible ? (\r\n                                        <span className=\"bg-green-500/10 text-green-400 text-[10px] px-2 py-1 rounded border border-green-500/20 flex items-center gap-1\">\r\n                                            <CheckCircle className=\"w-3 h-3\" /> Eligible\r\n                                        </span>\r\n                                    ) : (\r\n                                        <span className=\"bg-red-500/10 text-red-400 text-[10px] px-2 py-1 rounded border border-red-500/20 flex items-center gap-1\">\r\n                                            <Lock className=\"w-3 h-3\" /> RESTRICTED\r\n                                        </span>\r\n                                    )}\r\n                                </div>\r\n                            )}\r\n\r\n                            <div className=\"mb-4\">\r\n                                <h3 className=\"text-xl font-bold text-white mb-2\">{election.name}</h3>\r\n                                <p className=\"text-sm text-gray-400 line-clamp-2\">{election.description}</p>\r\n                            </div>\r\n\r\n                            <div className=\"space-y-2 mb-6 text-sm text-gray-300\">\r\n                                <div className=\"flex items-center justify-between\">\r\n                                    <span>Status</span>\r\n                                    <span className={`font-mono font-medium ${activeTab === 'active' ? 'text-green-400' :\r\n                                        activeTab === 'upcoming' ? 'text-blue-400' : 'text-gray-400'\r\n                                        }`}>\r\n                                        {activeTab.toUpperCase()}\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"flex items-center justify-between\">\r\n                                    <span>Your Status</span>\r\n                                    {election.hasVoted ? (\r\n                                        <span className=\"text-green-400 flex items-center gap-1\">\r\n                                            <CheckCircle className=\"w-3 h-3\" /> Voted\r\n                                        </span>\r\n                                    ) : (\r\n                                        <span className=\"text-yellow-400\">Not Voted</span>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <button\r\n                                onClick={() => handleOpenVote(election)}\r\n                                disabled={(activeTab !== 'active' && activeTab !== 'closed') || (election.isPrivate && !election.isEligible)}\r\n                                className={`w-full py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2\r\n                                    ${activeTab === 'active' && (!election.isPrivate || election.isEligible)\r\n                                        ? 'bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:opacity-90 shadow-lg shadow-blue-900/20'\r\n                                        : 'bg-gray-700 text-gray-300 hover:bg-gray-600 cursor-not-allowed opacity-70'\r\n                                    }\r\n                                `}\r\n                            >\r\n                                {election.isPrivate && !election.isEligible ? (\r\n                                    <><Lock className=\"w-4 h-4\" /> Not Authorized</>\r\n                                ) : activeTab === 'active' ? (election.hasVoted ? 'View Choices' : 'Vote Now') :\r\n                                    activeTab === 'closed' ? 'View Results' : 'Wait for Start'}\r\n                            </button>\r\n                        </div>\r\n                    ))\r\n                )}\r\n            </div>\r\n\r\n            {/* Voting Modal */}\r\n            {selectedElection && (\r\n                <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4\">\r\n                    <div className=\"bg-[#1e293b] w-full max-w-2xl rounded-2xl border border-gray-700 shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200\">\r\n                        <div className=\"p-6 border-b border-gray-700 flex justify-between items-center bg-gray-800/50\">\r\n                            <div>\r\n                                <h2 className=\"text-2xl font-bold text-white\">{selectedElection.name}</h2>\r\n                                <p className=\"text-sm text-gray-400\">\r\n                                    {selectedElection.id}  {selectedElection.isResultsPublished ? 'Results Declared' : 'Polling In Progress'}\r\n                                </p>\r\n                            </div>\r\n                            <button onClick={() => setSelectedElection(null)} className=\"text-gray-400 hover:text-white\">\r\n                                <span className=\"sr-only\">Close</span>\r\n                                <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" /></svg>\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"p-6 max-h-[60vh] overflow-y-auto\">\r\n                            {candidates.length === 0 ? (\r\n                                <div className=\"text-center py-8\">Loading candidates...</div>\r\n                            ) : (\r\n                                <div className=\"space-y-4\">\r\n                                    {candidates.map(candidate => (\r\n                                        <div key={candidate.id} className=\"bg-gray-800/50 rounded-xl p-4 flex items-center justify-between border border-gray-700 hover:border-gray-500 transition-colors\">\r\n                                            <div className=\"flex items-center gap-4\">\r\n                                                <div className=\"w-10 h-10 rounded-full bg-blue-500/20 text-blue-400 flex items-center justify-center font-bold text-lg\">\r\n                                                    {candidate.name.charAt(0)}\r\n                                                </div>\r\n                                                <div>\r\n                                                    <h4 className=\"text-lg font-semibold text-white\">{candidate.name}</h4>\r\n                                                    <p className=\"text-sm text-gray-400\">Candidate #{candidate.id}</p>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            {selectedElection.isResultsPublished ? (\r\n                                                <div className=\"px-4 py-2 bg-gray-900 rounded-lg border border-gray-700 flex items-center gap-2\">\r\n                                                    <span className=\"text-xl font-bold text-white\">{candidate.votes}</span>\r\n                                                    <span className=\"text-xs text-gray-400 uppercase tracking-wider\">Votes</span>\r\n                                                </div>\r\n                                            ) : selectedElection.hasVoted ? (\r\n                                                <div className=\"px-3 py-1 text-sm text-gray-500 italic\">\r\n                                                    Hidden until ends\r\n                                                </div>\r\n                                            ) : (\r\n                                                <button\r\n                                                    onClick={() => handleVote(candidate.id)}\r\n                                                    className=\"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors flex items-center gap-2\"\r\n                                                >\r\n                                                    <Vote className=\"w-4 h-4\" />\r\n                                                    Vote\r\n                                                </button>\r\n                                            )}\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            )}\r\n\r\n                            {selectedElection.isResultsPublished && candidates.length > 0 && (\r\n                                <div className=\"mt-8 p-6 bg-gradient-to-r from-green-900/20 to-emerald-900/20 border border-green-500/30 rounded-xl flex items-center gap-6 animate-in slide-in-from-bottom duration-500\">\r\n                                    <div className=\"p-3 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full shadow-lg shadow-orange-500/20\">\r\n                                        <Crown className=\"w-8 h-8 text-white\" />\r\n                                    </div>\r\n                                    <div>\r\n                                        <div className=\"text-sm text-green-400 font-bold uppercase tracking-wider mb-1\">\r\n                                            Election Result\r\n                                        </div>\r\n                                        <div className=\"text-2xl font-bold text-white\">\r\n                                            {(() => {\r\n                                                if (!candidates || candidates.length === 0) return \"No Candidates\";\r\n                                                const maxVotes = Math.max(...candidates.map(c => c.votes));\r\n                                                if (maxVotes === 0) return \"No Votes Cast\";\r\n                                                const winners = candidates.filter(c => c.votes === maxVotes);\r\n                                                if (winners.length === 1) return `Winner: ${winners[0].name}`;\r\n                                                return `Tie: ${winners.map(w => w.name).join(' & ')}`;\r\n                                            })()}\r\n                                        </div>\r\n                                        <div className=\"text-sm text-gray-400 mt-1\">\r\n                                            with {Math.max(...candidates.map(c => c.votes))} votes\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default VoterDashboard;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\laksh\\VoteChain\\VoteChain-Hackathon-Project\\src\\main.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\laksh\\VoteChain\\VoteChain-Hackathon-Project\\src\\utils\\ABI.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]